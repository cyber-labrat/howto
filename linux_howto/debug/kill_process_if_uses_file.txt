#################################################################
#
#   debconf: DbDriver config: config.dat is locked by another process:
#   Resource temporarily unavailable while installing packages
#
#################################################################

https://support.plesk.com/hc/en-us/articles/360001346173-Unable-to-update-Plesk-debconf-DbDriver-config-var-cache-debconf-config-dat-is-locked-by-another-process
https://askubuntu.com/questions/136881/debconf-dbdriver-config-config-dat-is-locked-by-another-process-resource-t

https://unix.stackexchange.com/questions/571943/sudo-apt-autoremove-command-doesnt-work-var-cache-debconf-config-dat-is-lo
https://ubuntuforums.org/showthread.php?t=2314747
https://bugs.launchpad.net/ubuntu/+source/debconf/+bug/349469


FIX:

sudo fuser -v /var/cache/debconf/config.dat
sudo kill PID
sudo kill -9 PID # if the first doesn't work


FIX:
sudo lsof /var/cache/debconf/config.dat
ps auxf | grep 44515
kill -9 44515


sudo dpkg --configure -a
sudo apt-get -f install
sudo apt --fix-broken install

#sudo dpkg -P $(dpkg -l | egrep '^rc' | awk '{print $2}')
#sudo update-desktop-database -v
#sudo apt-get install --reinstall gcc-6-base


http://manpages.ubuntu.com/manpages/artful/man8/do-release-upgrade.8.html
https://ubuntu.com/blog/how-to-upgrade-from-ubuntu-18-04-lts-to-20-04-lts-today

sudo do-release-upgrade
sudo do-release-upgrade -h
sudo do-release-upgrade -d

sudo update-manager -c
sudo update-manager -c -d

sudo /usr/lib/ubuntu-release-upgrader/check-new-release-gtk
sudo nano /etc/update-manager/release-upgrades

Prompt=XXXX, whereby:

never – no upgrades will be offered.
normal – supported release that immediately succeeds the currently running release will be offered.
lts – LTS releases will be offered.



sudo fuser -v /var/cache/debconf/config.dat
sudo kill PID

sudo apt-get update
sudo apt-get upgrade
sudo apt-get dist-upgrade
sudo apt-get autoremove
sudo apt-get install -f

systemctl reboot -i


